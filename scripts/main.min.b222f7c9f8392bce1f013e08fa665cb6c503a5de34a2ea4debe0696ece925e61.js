(function(){imagesLoaded(document.getElementById('loader-overlay'));topBarScroll(document.getElementById('top-bar'));function imagesLoaded(loader){var imgs=Array.from(document.querySelectorAll('img'));var promises=imgs.map(function(el){return new Promise(function(ok,ko){if(el.complete){ok();}else{el.addEventListener('load',ok);el.addEventListener('error',ko);}});});Promise.all(promises).then(function(){loader.classList.add('done');});}
function topBarScroll(el,height,dflt=0){var height=height||el.clientHeight;var prev=window.pageYOffset;window.onscroll=function(){var curr=window.pageYOffset;el.style.top=(prev>curr||curr<=height)?`-${dflt}px`:`-${height}px`;prev=curr;}}})();