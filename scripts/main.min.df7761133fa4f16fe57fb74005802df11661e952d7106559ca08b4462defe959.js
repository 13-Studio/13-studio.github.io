(function(){topBarScroll(document.getElementById('top-bar'));theX(document.getElementById('x'));photoSwipe();function imagesLoaded(loader){if(!loader)return;var imgs=Array.from(document.querySelectorAll('img'));var promises=imgs.map(function(el){return new Promise(function(ok,ko){if(el.complete){ok();}else{el.addEventListener('load',ok);el.addEventListener('error',ko);}});});Promise.all(promises).then(function(){loader.classList.add('done');});}
function topBarScroll(el,height,dflt=0){if(!el)return;var height=height||el.clientHeight;var prev=window.pageYOffset;window.onscroll=function(){var curr=window.pageYOffset;el.style.top=(prev>curr||curr<=height)?`-${dflt}px`:`-${height}px`;prev=curr;}}
function theX(el){if(!el)return;var x=el.dataset.x.substr(1,11).split('').reverse();el.innerText="+48 "+x.join('').replace(/,/g,' ');el.href="tel:"+el.innerText;}
function photoSwipe(){var pswpElement=document.querySelectorAll('.pswp')[0];var items=Array.from(document.querySelectorAll('.img-preview'));if(!items||items.length===0)return;var slides=items.map(function(el){return{src:el.href||el.src||el.dataset.src,title:el.title||el.alt,w:+el.dataset.w,h:+el.dataset.h};});items.forEach(function(el,i){el.onclick=function(){var options={shareEl:false,index:i};var gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,slides,options);gallery.init();return false;}})}})();